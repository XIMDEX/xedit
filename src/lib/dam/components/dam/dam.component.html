<app-loading [show]="isLoading"></app-loading>
<div class="dam-main shadow-panel">
    <div class="col dam-main-back">
        <ng-container *ngIf="popup; else nopup">
            <ngx-smart-modal 
                #dam identifier="dam"
                (onClose)="closeModal($event)"
            >
                <app-table [items]="items" [(query)]="query"></app-table> 
            </ngx-smart-modal>
        </ng-container>
        <ng-template #nopup>
            <app-facets [facets]="facets"></app-facets>
            <app-table style="flex-grow: 1;" [items]="items" [(query)]="query"></app-table> 
        </ng-template>
    </div>
</div>